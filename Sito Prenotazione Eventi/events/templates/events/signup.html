{% extends "base_generic.html" %}

{% block content %}
<div class="auth-container">
  <div class="auth-card">

    <h1>Registrazione</h1>

    <form method="post">
      {% csrf_token %}

      <div class="form-group">
        <label for="{{ form.first_name.id_for_label }}">Nome</label>
        {{ form.first_name }}

        {% if form.first_name.errors %}
          <div class="field-error">
            {% for error in form.first_name.errors %}
              {{ error }}
            {% endfor %}
          </div>
        {% endif %}
      </div>

      <div class="form-group">
        <label for="{{ form.last_name.id_for_label }}">Cognome</label>
        {{ form.last_name }}

        {% if form.last_name.errors %}
          <div class="field-error">
            {% for error in form.last_name.errors %}
              {{ error }}
            {% endfor %}
          </div>
        {% endif %}
      </div>

      <div class="form-group">
        <label for="{{ form.email.id_for_label }}">Email</label>
        {{ form.email }}

        {% if form.email.errors %}
          <div class="field-error">
            {% for error in form.email.errors %}
              {{ error }}
            {% endfor %}
          </div>
        {% endif %}
      </div>

      <div class="form-group">
        <label for="{{ form.username.id_for_label }}">Username</label>
        {{ form.username }}

        {% if form.username.errors %}
          <div class="field-error">
            {% for error in form.username.errors %}
              {{ error }}
            {% endfor %}
          </div>
        {% endif %}
      </div>

      <div class="form-group password-wrapper">
        <label for="{{ form.password1.id_for_label }}">Password</label>

        <div class="password-input-container">
          {{ form.password1 }}
          <span class="password-info">ⓘ</span>

          <div class="password-tooltip">
            <strong>La password deve:</strong>
            <ul>
              <li> Avere almeno 8 caratteri</li>
              <li> Non essere simile allo username</li>
              <li> Non contenere solo numeri</li>
            </ul>
          </div>
        </div>

        {% if form.password1.errors %}
          <div class="field-error">
            {% for error in form.password1.errors %}
              {{ error }}
            {% endfor %}
          </div>
        {% endif %}
      </div>


      <div class="form-group">
        <label for="{{ form.password2.id_for_label }}">Conferma password</label>
        {{ form.password2 }}

        {% if form.password2.errors %}
          <div class="field-error">
            {% for error in form.password2.errors %}
              {{ error }}
            {% endfor %}
          </div>
        {% endif %}
      </div>

      <button type="submit" class="btn btn-primary full-width">
        Registrati
      </button>
    </form>

    <div class="auth-links">
      <p>
        Hai già un account?
        <a href="{% url 'login' %}" class="a">Accedi</a>
      </p>
    </div>

  </div>
</div>
{% endblock %}
